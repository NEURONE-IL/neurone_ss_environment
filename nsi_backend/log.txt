
> nsi_backend@1.0.0 test
> nyc --reporter=html mocha test/*.js --timeout 15000 --exit

Server is running


  Successfully add a behavior model, then get it, then update it, then delete it: 
DB connected
{
  name: 'TESTMODEL',
  fullModel: '{}',
  simulatorModel: '{}',
  modelWidth: 1000,
  modelHeight: 400,
  valid: true,
  creationDate: '2022-07-21T00:54:04.000Z',
  lastModificationDate: '1970-01-01T00:00:00.000Z',
  _id: '62d8a3aca9994365ac3563c9',
  __v: 0
}
    ✔ should add a behavior model (103ms)
{
  _id: '62d8a3aca9994365ac3563c9',
  name: 'TESTMODEL',
  fullModel: '{}',
  simulatorModel: '{}',
  modelWidth: 1000,
  modelHeight: 400,
  valid: true,
  creationDate: '2022-07-21T00:54:04.000Z',
  lastModificationDate: '1970-01-01T00:00:00.000Z',
  __v: 0
}
    ✔ should get one behavior model
{
  _id: '62d8a3aca9994365ac3563c9',
  name: 'TESTMODEL',
  fullModel: '{}',
  simulatorModel: '{}',
  modelWidth: 1000,
  modelHeight: 400,
  valid: true,
  creationDate: '2022-07-21T00:54:04.000Z',
  lastModificationDate: '1970-01-01T00:00:00.000Z',
  __v: 0
}
    ✔ should update a behavior model
{ msg: 'Behavior model deleted' }
    ✔ should delete a behavior model

  Unsuccessfully add a behavior model: 
Error: BehaviorModel validation failed: lastModificationDate: Path `lastModificationDate` is required., valid: Path `valid` is required., modelHeight: Path `modelHeight` is required., modelWidth: Path `modelWidth` is required., simulatorModel: Path `simulatorModel` is required., fullModel: Path `fullModel` is required.
    at ValidationError.inspect (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/error/validation.js:48:26)
    at formatValue (node:internal/util/inspect:782:19)
    at inspect (node:internal/util/inspect:347:10)
    at formatWithOptionsInternal (node:internal/util/inspect:2167:40)
    at formatWithOptions (node:internal/util/inspect:2029:10)
    at console.value (node:internal/console/constructor:324:14)
    at console.log (node:internal/console/constructor:360:61)
    at exports.createBehaviorModel (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/controllers/behaviorModelController.js:3:212)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {
  errors: {
    lastModificationDate: ValidatorError: Path `lastModificationDate` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaDate.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'lastModificationDate',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    valid: ValidatorError: Path `valid` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaBoolean.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'valid',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    modelHeight: ValidatorError: Path `modelHeight` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaNumber.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'modelHeight',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    modelWidth: ValidatorError: Path `modelWidth` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaNumber.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'modelWidth',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    simulatorModel: ValidatorError: Path `simulatorModel` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaString.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'simulatorModel',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    fullModel: ValidatorError: Path `fullModel` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaString.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'fullModel',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    }
  },
  _message: 'BehaviorModel validation failed'
}
{}
    ✔ should fail to add a behavior model

  Unsuccessfully get one behavior model (method failed): 
CastError: Cast to ObjectId failed for value "ERROR" (type string) at path "_id" for model "BehaviorModel"
    at model.Query.exec (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:4715:21)
    at model.Query.Query.then (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:4814:15)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {
  messageFormat: undefined,
  stringValue: '"ERROR"',
  kind: 'ObjectId',
  value: 'ERROR',
  path: '_id',
  reason: BSONTypeError: Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer
      at new BSONTypeError (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/bson/lib/error.js:41:28)
      at new ObjectId (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/bson/lib/objectid.js:66:23)
      at castObjectId (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/cast/objectid.js:24:12)
      at ObjectId.cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schema/objectid.js:247:12)
      at ObjectId.SchemaType.applySetters (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1189:12)
      at ObjectId.SchemaType._castForQuery (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1623:15)
      at ObjectId.SchemaType.castForQuery (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1613:15)
      at ObjectId.SchemaType.castForQueryWrapper (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1590:20)
      at cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/cast.js:344:32)
      at model.Query.Query.cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:5137:12)
      at model.Query.Query._castConditions (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:2168:10)
      at model.Query.<anonymous> (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:2462:8)
      at model.Query._wrappedThunk [as _findOne] (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/helpers/query/wrapThunk.js:27:8)
      at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/kareem/index.js:367:25
      at processTicksAndRejections (node:internal/process/task_queues:78:11),
  valueType: 'string'
}
{}
    ✔ should fail to get one behavior model (method failed)

  Unsuccessfully get one behavior model (model does not exist): 
Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at new NodeError (node:internal/errors:372:5)
    at ServerResponse.setHeader (node:_http_outgoing:576:11)
    at ServerResponse.header (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/express/lib/response.js:794:10)
    at ServerResponse.send (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/express/lib/response.js:174:12)
    at ServerResponse.json (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/express/lib/response.js:278:15)
    at exports.getBehaviorModel (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/controllers/behaviorModelController.js:3:1863)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {
  code: 'ERR_HTTP_HEADERS_SENT'
}
{ msg: "Error: Behavior model doesn't exist" }
    ✔ should fail to get one behavior model (model does not exist)

  Unsuccessfully update a behavior model (method failed): 
CastError: Cast to ObjectId failed for value "ERROR" (type string) at path "_id" for model "BehaviorModel"
    at model.Query.exec (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:4715:21)
    at model.Query.Query.then (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:4814:15)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {
  messageFormat: undefined,
  stringValue: '"ERROR"',
  kind: 'ObjectId',
  value: 'ERROR',
  path: '_id',
  reason: BSONTypeError: Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer
      at new BSONTypeError (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/bson/lib/error.js:41:28)
      at new ObjectId (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/bson/lib/objectid.js:66:23)
      at castObjectId (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/cast/objectid.js:24:12)
      at ObjectId.cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schema/objectid.js:247:12)
      at ObjectId.SchemaType.applySetters (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1189:12)
      at ObjectId.SchemaType._castForQuery (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1623:15)
      at ObjectId.SchemaType.castForQuery (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1613:15)
      at ObjectId.SchemaType.castForQueryWrapper (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1590:20)
      at cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/cast.js:344:32)
      at model.Query.Query.cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:5137:12)
      at model.Query.Query._castConditions (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:2168:10)
      at model.Query.<anonymous> (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:2462:8)
      at model.Query._wrappedThunk [as _findOne] (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/helpers/query/wrapThunk.js:27:8)
      at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/kareem/index.js:367:25
      at processTicksAndRejections (node:internal/process/task_queues:78:11),
  valueType: 'string'
}
{}
    ✔ should fail to update a behavior model (method failed)

  Unsuccessfully update a behavior model (model does not exist): 
TypeError: Cannot set properties of null (setting 'name')
    at exports.updateBehaviorModel (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/controllers/behaviorModelController.js:3:2605)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
{ msg: "Error: Behavior model doesn't exist" }
    ✔ should fail to update a behavior model (model does not exist)

  Unsuccessfully delete a behavior model (method failed): 
CastError: Cast to ObjectId failed for value "ERROR" (type string) at path "_id" for model "BehaviorModel"
    at model.Query.exec (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:4715:21)
    at model.Query.Query.then (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:4814:15)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {
  messageFormat: undefined,
  stringValue: '"ERROR"',
  kind: 'ObjectId',
  value: 'ERROR',
  path: '_id',
  reason: BSONTypeError: Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer
      at new BSONTypeError (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/bson/lib/error.js:41:28)
      at new ObjectId (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/bson/lib/objectid.js:66:23)
      at castObjectId (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/cast/objectid.js:24:12)
      at ObjectId.cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schema/objectid.js:247:12)
      at ObjectId.SchemaType.applySetters (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1189:12)
      at ObjectId.SchemaType._castForQuery (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1623:15)
      at ObjectId.SchemaType.castForQuery (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1613:15)
      at ObjectId.SchemaType.castForQueryWrapper (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1590:20)
      at cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/cast.js:344:32)
      at model.Query.Query.cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:5137:12)
      at model.Query.Query._castConditions (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:2168:10)
      at model.Query.<anonymous> (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:2462:8)
      at model.Query._wrappedThunk [as _findOne] (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/helpers/query/wrapThunk.js:27:8)
      at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/kareem/index.js:367:25
      at processTicksAndRejections (node:internal/process/task_queues:78:11),
  valueType: 'string'
}
{}
    ✔ should fail to delete a behavior model (method failed)

  Unsuccessfully delete a behavior model (model does not exist): 
{ msg: "Error: Behavior model doesn't exist" }
    ✔ should fail to delete a behavior model (model does not exist)
Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at new NodeError (node:internal/errors:372:5)
    at ServerResponse.setHeader (node:_http_outgoing:576:11)
    at ServerResponse.header (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/express/lib/response.js:794:10)
    at ServerResponse.send (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/express/lib/response.js:174:12)
    at ServerResponse.json (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/express/lib/response.js:278:15)
    at exports.deleteBehaviorModel (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/controllers/behaviorModelController.js:3:3837)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {
  code: 'ERR_HTTP_HEADERS_SENT'
}

  Successfully get all behavior models: 
{
  name: 'TESTMODEL',
  fullModel: '{}',
  simulatorModel: '{}',
  modelWidth: 1000,
  modelHeight: 400,
  valid: true,
  creationDate: '2022-07-21T00:54:04.000Z',
  lastModificationDate: '1970-01-01T00:00:00.000Z',
  _id: '62d8a3ada9994365ac3563d6',
  __v: 0
}
    ✔ should add a behavior model
[
  {
    _id: '62d8a3ada9994365ac3563d6',
    name: 'TESTMODEL',
    fullModel: '{}',
    simulatorModel: '{}',
    modelWidth: 1000,
    modelHeight: 400,
    valid: true,
    creationDate: '2022-07-21T00:54:04.000Z',
    lastModificationDate: '1970-01-01T00:00:00.000Z',
    __v: 0
  }
]
    ✔ should get all behavior models
{ msg: 'Behavior model deleted' }
    ✔ should delete a behavior model

  Successfully get all behavior models properties: 
{
  name: 'TESTMODEL',
  fullModel: '{}',
  simulatorModel: '{}',
  modelWidth: 1000,
  modelHeight: 400,
  valid: true,
  creationDate: '2022-07-21T00:54:04.000Z',
  lastModificationDate: '1970-01-01T00:00:00.000Z',
  _id: '62d8a3ada9994365ac3563db',
  __v: 0
}
    ✔ should add a behavior model
[ { _id: '62d8a3ada9994365ac3563db', name: 'TESTMODEL', valid: true } ]
    ✔ should get all behavior models properties
{ msg: 'Behavior model deleted' }
    ✔ should delete a behavior model

  Successfully add a simulation, then get it, then update it, then delete it: 
{
  name: 'TESTSIMULATION',
  description: 'TESTDESCRIPTION',
  numberStudents: 1,
  numberDocuments: 1,
  numberRelevantDocuments: 1,
  randomActions: true,
  expiration: true,
  queryList: [ 'TESTQUERY1', 'TESTQUERY2' ],
  behaviorModelId: '000000000000',
  length: 1,
  sensibility: 100,
  interval: 1000,
  speed: 1,
  creationDate: '2022-07-21T00:54:04.000Z',
  lastDeployDate: '1970-01-01T00:00:00.000Z',
  lastModificationDate: '2022-07-21T00:54:04.000Z',
  _id: '62d8a3ada9994365ac3563e0',
  __v: 0
}
    ✔ should add a simulation
{
  _id: '62d8a3ada9994365ac3563e0',
  name: 'TESTSIMULATION',
  description: 'TESTDESCRIPTION',
  numberStudents: 1,
  numberDocuments: 1,
  numberRelevantDocuments: 1,
  randomActions: true,
  expiration: true,
  queryList: [ 'TESTQUERY1', 'TESTQUERY2' ],
  behaviorModelId: '000000000000',
  length: 1,
  sensibility: 100,
  interval: 1000,
  speed: 1,
  creationDate: '2022-07-21T00:54:04.000Z',
  lastDeployDate: '1970-01-01T00:00:00.000Z',
  lastModificationDate: '2022-07-21T00:54:04.000Z',
  __v: 0
}
    ✔ should get one simulation
{
  _id: '62d8a3ada9994365ac3563e0',
  name: 'TESTSIMULATION',
  description: 'TESTDESCRIPTION',
  numberStudents: 1,
  numberDocuments: 1,
  numberRelevantDocuments: 1,
  randomActions: true,
  expiration: true,
  queryList: [ 'TESTQUERY1', 'TESTQUERY2' ],
  behaviorModelId: '000000000000',
  length: 1,
  sensibility: 100,
  interval: 1000,
  speed: 1,
  creationDate: '2022-07-21T00:54:04.000Z',
  lastDeployDate: '1970-01-01T00:00:00.000Z',
  lastModificationDate: '2022-07-21T00:54:04.000Z',
  __v: 0
}
    ✔ should update a simulation
{ msg: 'Simulation deleted' }
    ✔ should delete a simulation

  Unsuccessfully add a simulation: 
Error: Simulation validation failed: lastModificationDate: Path `lastModificationDate` is required., lastDeployDate: Path `lastDeployDate` is required., creationDate: Path `creationDate` is required., speed: Path `speed` is required., interval: Path `interval` is required., sensibility: Path `sensibility` is required., length: Path `length` is required., behaviorModelId: Path `behaviorModelId` is required., expiration: Path `expiration` is required., randomActions: Path `randomActions` is required., numberRelevantDocuments: Path `numberRelevantDocuments` is required., numberDocuments: Path `numberDocuments` is required., numberStudents: Path `numberStudents` is required., description: Path `description` is required.
    at ValidationError.inspect (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/error/validation.js:48:26)
    at formatValue (node:internal/util/inspect:782:19)
    at inspect (node:internal/util/inspect:347:10)
    at formatWithOptionsInternal (node:internal/util/inspect:2167:40)
    at formatWithOptions (node:internal/util/inspect:2029:10)
    at console.value (node:internal/console/constructor:324:14)
    at console.log (node:internal/console/constructor:360:61)
    at exports.createSimulation (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/controllers/simulationController.js:3:200)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {
  errors: {
    lastModificationDate: ValidatorError: Path `lastModificationDate` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaDate.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'lastModificationDate',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    lastDeployDate: ValidatorError: Path `lastDeployDate` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaDate.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'lastDeployDate',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    creationDate: ValidatorError: Path `creationDate` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaDate.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'creationDate',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    speed: ValidatorError: Path `speed` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaNumber.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'speed',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    interval: ValidatorError: Path `interval` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaNumber.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'interval',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    sensibility: ValidatorError: Path `sensibility` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaNumber.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'sensibility',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    length: ValidatorError: Path `length` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaNumber.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'length',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    behaviorModelId: ValidatorError: Path `behaviorModelId` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaString.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'behaviorModelId',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    expiration: ValidatorError: Path `expiration` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaBoolean.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'expiration',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    randomActions: ValidatorError: Path `randomActions` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaBoolean.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'randomActions',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    numberRelevantDocuments: ValidatorError: Path `numberRelevantDocuments` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaNumber.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'numberRelevantDocuments',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    numberDocuments: ValidatorError: Path `numberDocuments` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaNumber.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'numberDocuments',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    numberStudents: ValidatorError: Path `numberStudents` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaNumber.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'numberStudents',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    },
    description: ValidatorError: Path `description` is required.
        at validate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1330:13)
        at SchemaString.SchemaType.doValidate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1314:7)
        at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/document.js:2751:18
        at processTicksAndRejections (node:internal/process/task_queues:78:11) {
      properties: [Object],
      kind: 'required',
      path: 'description',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    }
  },
  _message: 'Simulation validation failed'
}
{}
    ✔ should fail to add a simulation

  Unsuccessfully get one simulation (method failed): 
CastError: Cast to ObjectId failed for value "ERROR" (type string) at path "_id" for model "Simulation"
    at model.Query.exec (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:4715:21)
    at model.Query.Query.then (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:4814:15)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {
  messageFormat: undefined,
  stringValue: '"ERROR"',
  kind: 'ObjectId',
  value: 'ERROR',
  path: '_id',
  reason: BSONTypeError: Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer
      at new BSONTypeError (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/bson/lib/error.js:41:28)
      at new ObjectId (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/bson/lib/objectid.js:66:23)
      at castObjectId (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/cast/objectid.js:24:12)
      at ObjectId.cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schema/objectid.js:247:12)
      at ObjectId.SchemaType.applySetters (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1189:12)
      at ObjectId.SchemaType._castForQuery (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1623:15)
      at ObjectId.SchemaType.castForQuery (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1613:15)
      at ObjectId.SchemaType.castForQueryWrapper (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1590:20)
      at cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/cast.js:344:32)
      at model.Query.Query.cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:5137:12)
      at model.Query.Query._castConditions (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:2168:10)
      at model.Query.<anonymous> (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:2462:8)
      at model.Query._wrappedThunk [as _findOne] (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/helpers/query/wrapThunk.js:27:8)
      at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/kareem/index.js:367:25
      at processTicksAndRejections (node:internal/process/task_queues:78:11),
  valueType: 'string'
}
{}
    ✔ should fail to get one simulation (method failed)

  Unsuccessfully get one simulation (simulation does not exist): 
Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at new NodeError (node:internal/errors:372:5)
    at ServerResponse.setHeader (node:_http_outgoing:576:11)
    at ServerResponse.header (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/express/lib/response.js:794:10)
    at ServerResponse.send (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/express/lib/response.js:174:12)
    at ServerResponse.json (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/express/lib/response.js:278:15)
    at exports.getSimulation (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/controllers/simulationController.js:3:1696)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {
  code: 'ERR_HTTP_HEADERS_SENT'
}
{ msg: "Error: simulation doesn't exist" }
    ✔ should fail to get one simulation (simulation does not exist)

  Unsuccessfully update a simulation (method failed): 
CastError: Cast to ObjectId failed for value "ERROR" (type string) at path "_id" for model "Simulation"
    at model.Query.exec (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:4715:21)
    at model.Query.Query.then (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:4814:15)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {
  messageFormat: undefined,
  stringValue: '"ERROR"',
  kind: 'ObjectId',
  value: 'ERROR',
  path: '_id',
  reason: BSONTypeError: Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer
      at new BSONTypeError (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/bson/lib/error.js:41:28)
      at new ObjectId (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/bson/lib/objectid.js:66:23)
      at castObjectId (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/cast/objectid.js:24:12)
      at ObjectId.cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schema/objectid.js:247:12)
      at ObjectId.SchemaType.applySetters (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1189:12)
      at ObjectId.SchemaType._castForQuery (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1623:15)
      at ObjectId.SchemaType.castForQuery (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1613:15)
      at ObjectId.SchemaType.castForQueryWrapper (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1590:20)
      at cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/cast.js:344:32)
      at model.Query.Query.cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:5137:12)
      at model.Query.Query._castConditions (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:2168:10)
      at model.Query.<anonymous> (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:2462:8)
      at model.Query._wrappedThunk [as _findOne] (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/helpers/query/wrapThunk.js:27:8)
      at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/kareem/index.js:367:25
      at processTicksAndRejections (node:internal/process/task_queues:78:11),
  valueType: 'string'
}
{}
    ✔ should fail to update a simulation (method failed)

  Unsuccessfully update a simulation (simulation does not exist): 
TypeError: Cannot set properties of null (setting 'name')
    at exports.updateSimulation (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/controllers/simulationController.js:3:2526)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
{ msg: "Error: simulation doesn't exist" }
    ✔ should fail to update a simulation (simulation does not exist)

  Unsuccessfully delete a simulation (method failed): 
CastError: Cast to ObjectId failed for value "ERROR" (type string) at path "_id" for model "Simulation"
    at model.Query.exec (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:4715:21)
    at model.Query.Query.then (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:4814:15)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {
  messageFormat: undefined,
  stringValue: '"ERROR"',
  kind: 'ObjectId',
  value: 'ERROR',
  path: '_id',
  reason: BSONTypeError: Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer
      at new BSONTypeError (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/bson/lib/error.js:41:28)
      at new ObjectId (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/bson/lib/objectid.js:66:23)
      at castObjectId (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/cast/objectid.js:24:12)
      at ObjectId.cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schema/objectid.js:247:12)
      at ObjectId.SchemaType.applySetters (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1189:12)
      at ObjectId.SchemaType._castForQuery (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1623:15)
      at ObjectId.SchemaType.castForQuery (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1613:15)
      at ObjectId.SchemaType.castForQueryWrapper (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1590:20)
      at cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/cast.js:344:32)
      at model.Query.Query.cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:5137:12)
      at model.Query.Query._castConditions (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:2168:10)
      at model.Query.<anonymous> (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:2462:8)
      at model.Query._wrappedThunk [as _findOne] (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/helpers/query/wrapThunk.js:27:8)
      at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/kareem/index.js:367:25
      at processTicksAndRejections (node:internal/process/task_queues:78:11),
  valueType: 'string'
}
{}
    ✔ should fail to delete a simulation (method failed)

  Unsuccessfully delete a simulation (simulation does not exist): 
{ msg: "Error: simulation doesn't exist" }
    ✔ should fail to delete a simulation (simulation does not exist)
Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at new NodeError (node:internal/errors:372:5)
    at ServerResponse.setHeader (node:_http_outgoing:576:11)
    at ServerResponse.header (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/express/lib/response.js:794:10)
    at ServerResponse.send (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/express/lib/response.js:174:12)
    at ServerResponse.json (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/express/lib/response.js:278:15)
    at exports.deleteSimulation (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/controllers/simulationController.js:3:5030)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {
  code: 'ERR_HTTP_HEADERS_SENT'
}

  Successfully get all simulations: 
{
  name: 'TESTSIMULATION',
  description: 'TESTDESCRIPTION',
  numberStudents: 1,
  numberDocuments: 1,
  numberRelevantDocuments: 1,
  randomActions: true,
  expiration: true,
  queryList: [ 'TESTQUERY1', 'TESTQUERY2' ],
  behaviorModelId: '000000000000',
  length: 1,
  sensibility: 100,
  interval: 1000,
  speed: 1,
  creationDate: '2022-07-21T00:54:04.000Z',
  lastDeployDate: '1970-01-01T00:00:00.000Z',
  lastModificationDate: '2022-07-21T00:54:04.000Z',
  _id: '62d8a3ada9994365ac3563ec',
  __v: 0
}
    ✔ should add a simulation
[
  {
    _id: '62d8a3ada9994365ac3563ec',
    name: 'TESTSIMULATION',
    description: 'TESTDESCRIPTION',
    numberStudents: 1,
    numberDocuments: 1,
    numberRelevantDocuments: 1,
    randomActions: true,
    expiration: true,
    queryList: [ 'TESTQUERY1', 'TESTQUERY2' ],
    behaviorModelId: '000000000000',
    length: 1,
    sensibility: 100,
    interval: 1000,
    speed: 1,
    creationDate: '2022-07-21T00:54:04.000Z',
    lastDeployDate: '1970-01-01T00:00:00.000Z',
    lastModificationDate: '2022-07-21T00:54:04.000Z',
    __v: 0
  }
]
    ✔ should get all simulations
{ msg: 'Simulation deleted' }
    ✔ should delete a simulation

  Successfully get the names of all simulations: 
{
  name: 'TESTSIMULATION',
  description: 'TESTDESCRIPTION',
  numberStudents: 1,
  numberDocuments: 1,
  numberRelevantDocuments: 1,
  randomActions: true,
  expiration: true,
  queryList: [ 'TESTQUERY1', 'TESTQUERY2' ],
  behaviorModelId: '000000000000',
  length: 1,
  sensibility: 100,
  interval: 1000,
  speed: 1,
  creationDate: '2022-07-21T00:54:04.000Z',
  lastDeployDate: '1970-01-01T00:00:00.000Z',
  lastModificationDate: '2022-07-21T00:54:04.000Z',
  _id: '62d8a3ada9994365ac3563f1',
  __v: 0
}
    ✔ should add a simulation
[ 'TESTSIMULATION' ]
    ✔ should get the names of all simulations
{ msg: 'Simulation deleted' }
    ✔ should delete a simulation

  Successfully get all behavior models of all simulations: 
{
  name: 'TESTSIMULATION',
  description: 'TESTDESCRIPTION',
  numberStudents: 1,
  numberDocuments: 1,
  numberRelevantDocuments: 1,
  randomActions: true,
  expiration: true,
  queryList: [ 'TESTQUERY1', 'TESTQUERY2' ],
  behaviorModelId: '000000000000',
  length: 1,
  sensibility: 100,
  interval: 1000,
  speed: 1,
  creationDate: '2022-07-21T00:54:04.000Z',
  lastDeployDate: '1970-01-01T00:00:00.000Z',
  lastModificationDate: '2022-07-21T00:54:04.000Z',
  _id: '62d8a3ada9994365ac3563f6',
  __v: 0
}
    ✔ should add a simulation
[
  {
    simulationName: 'TESTSIMULATION',
    simulationBehaviorModelId: '000000000000'
  }
]
    ✔ should get all behavior models of all simulations
{ msg: 'Simulation deleted' }
    ✔ should delete a simulation

  Unsuccessfully update a simulation last deploy date (method failed): 
CastError: Cast to ObjectId failed for value "ERROR" (type string) at path "_id" for model "Simulation"
    at model.Query.exec (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:4715:21)
    at model.Query.Query.then (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:4814:15)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {
  messageFormat: undefined,
  stringValue: '"ERROR"',
  kind: 'ObjectId',
  value: 'ERROR',
  path: '_id',
  reason: BSONTypeError: Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer
      at new BSONTypeError (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/bson/lib/error.js:41:28)
      at new ObjectId (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/bson/lib/objectid.js:66:23)
      at castObjectId (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/cast/objectid.js:24:12)
      at ObjectId.cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schema/objectid.js:247:12)
      at ObjectId.SchemaType.applySetters (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1189:12)
      at ObjectId.SchemaType._castForQuery (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1623:15)
      at ObjectId.SchemaType.castForQuery (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1613:15)
      at ObjectId.SchemaType.castForQueryWrapper (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/schematype.js:1590:20)
      at cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/cast.js:344:32)
      at model.Query.Query.cast (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:5137:12)
      at model.Query.Query._castConditions (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:2168:10)
      at model.Query.<anonymous> (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/query.js:2462:8)
      at model.Query._wrappedThunk [as _findOne] (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/mongoose/lib/helpers/query/wrapThunk.js:27:8)
      at /home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/node_modules/kareem/index.js:367:25
      at processTicksAndRejections (node:internal/process/task_queues:78:11),
  valueType: 'string'
}
{}
    ✔ should fail to update the last deploy date of a simulation (method failed)

  Unsuccessfully update a simulation last deploy date (simulation does not exist): 
TypeError: Cannot set properties of null (setting 'lastDeployDate')
    at exports.updateSimulationLastDeployDate (/home/msk/Documentos/Repos/Mios/neurone_ss_environment/nsi_backend/controllers/simulationController.js:3:4175)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
{ msg: "Error: simulation doesn't exist" }
    ✔ should fail to update the last deploy date of a simulation (simulation does not exist)

  Successfully deploy a simulation and read the generated data (bookmarks, keystrokes, queries, visitedLinks): 
{
  name: 'TESTMODEL',
  fullModel: '{"cells":[{"type":"standard.BorderedImage","position":{"x":100,"y":30},"size":{"width":150,"height":65},"angle":0,"ports":{"groups":{"rightPorts":{"position":"right","label":{"position":"outside"},"attrs":{"portBody":{"r":8,"fill":"green","stroke":"black","magnet":true}},"markup":[{"tagName":"circle","selector":"portBody"}]}},"items":[{"group":"rightPorts","attrs":{"label":{"text":"rightPort1"}},"id":"b60fbd10-89ff-4d34-9933-52e071a37b6e"}]},"id":"67eeb639-06c3-46f1-bbe9-6c62b43d4231","typeNode":"start","z":1,"attrs":{"border":{"stroke":"black","rx":5,"ry":5},"background":{"fill":"turquoise"},"image":{"refWidth":0.7,"refHeight":0.7,"xlink:href":"/assets/behavior-model-start.png","refX":0.15,"refY":0.15},"label":{"text":"Start"},"root":{"magnet":false}}},{"type":"standard.BorderedImage","position":{"x":390,"y":30},"size":{"width":150,"height":65},"angle":0,"ports":{"groups":{"leftPorts":{"position":"left","label":{"position":"outside"},"attrs":{"portBody":{"r":8,"fill":"green","stroke":"black","magnet":true}},"markup":[{"tagName":"circle","selector":"portBody"}]},"rightPorts":{"position":"right","label":{"position":"outside"},"attrs":{"portBody":{"r":8,"fill":"green","stroke":"black","magnet":true}},"markup":[{"tagName":"circle","selector":"portBody"}]}},"items":[{"group":"leftPorts","attrs":{"label":{"text":"leftPort1"}},"id":"290b6135-ac29-4c5f-ad76-fa15e390a5a4"},{"group":"leftPorts","attrs":{"label":{"text":"leftPort2"}},"id":"67b888e8-3723-4bf4-a979-0c26248396c1"},{"group":"rightPorts","attrs":{"label":{"text":"rightPort1"}},"id":"03672395-3faf-4147-ac75-53662fc52354"},{"group":"rightPorts","attrs":{"label":{"text":"rightPort2"}},"id":"ad8d9850-f8a4-4b70-8a26-07e0d3465aa7"}]},"id":"6912dbff-46e8-40a8-89cf-0ffdf0e0da03","typeNode":"query","minTransitionTime":-1,"maxTransitionTime":-1,"z":2,"attrs":{"border":{"stroke":"black","rx":5,"ry":5},"background":{"fill":"#b071eb"},"image":{"refWidth":0.7,"refHeight":0.7,"xlink:href":"/assets/behavior-model-query.png","refX":0.15,"refY":0.15},"label":{"text":"(new query 1)"},"root":{"magnet":false}}},{"type":"standard.BorderedImage","position":{"x":470,"y":210},"size":{"width":65,"height":65},"angle":0,"ports":{"groups":{"leftPorts":{"position":"left","label":{"position":"outside"},"attrs":{"portBody":{"r":8,"fill":"green","stroke":"black","magnet":true}},"markup":[{"tagName":"circle","selector":"portBody"}]},"rightPorts":{"position":"right","label":{"position":"outside"},"attrs":{"portBody":{"r":8,"fill":"green","stroke":"black","magnet":true}},"markup":[{"tagName":"circle","selector":"portBody"}]}},"items":[{"group":"leftPorts","attrs":{"label":{"text":"leftPort1"}},"id":"358e1077-95c0-4a69-9176-d8c07a8f2fdc"},{"group":"leftPorts","attrs":{"label":{"text":"leftPort2"}},"id":"906f4fec-731e-43a4-b8f2-79c4c2e54f82"},{"group":"rightPorts","attrs":{"label":{"text":"rightPort1"}},"id":"cd481c38-4b45-4936-8731-b90cb7109382"},{"group":"rightPorts","attrs":{"label":{"text":"rightPort2"}},"id":"792e9035-1f63-4469-8308-94491cc3f1f3"}]},"id":"ad2a70a8-5a65-461b-85e8-3b67f90ca59c","typeNode":"bookmark","minTransitionTime":-1,"maxTransitionTime":-1,"z":3,"attrs":{"border":{"stroke":"black","rx":5,"ry":5},"background":{"fill":"#96bed4"},"image":{"refWidth":0.7,"refHeight":0.7,"xlink:href":"/assets/behavior-model-bookmark.png","refX":0.15,"refY":0.15},"label":{"text":"(new bookmark 1)"},"root":{"magnet":false}}},{"type":"standard.BorderedImage","position":{"x":720,"y":200},"size":{"width":150,"height":65},"angle":0,"ports":{"groups":{"leftPorts":{"position":"left","label":{"position":"outside"},"attrs":{"portBody":{"r":8,"fill":"green","stroke":"black","magnet":true}},"markup":[{"tagName":"circle","selector":"portBody"}]},"rightPorts":{"position":"right","label":{"position":"outside"},"attrs":{"portBody":{"r":8,"fill":"green","stroke":"black","magnet":true}},"markup":[{"tagName":"circle","selector":"portBody"}]}},"items":[{"group":"leftPorts","attrs":{"label":{"text":"leftPort1"}},"id":"6b68e19c-fc94-4f62-a918-4301d7359c8e"},{"group":"leftPorts","attrs":{"label":{"text":"leftPort2"}},"id":"ca1dbaa0-a2fe-4c75-bb62-4445c0e792e2"},{"group":"rightPorts","attrs":{"label":{"text":"rightPort1"}},"id":"963d4f5c-81fb-4454-8d5f-e2563c7c8ccc"},{"group":"rightPorts","attrs":{"label":{"text":"rightPort2"}},"id":"e3cf04b9-db8f-4e85-bcd5-bf285ca2b15e"}]},"id":"4c6c44dc-4a15-4c40-b2bc-0ca2fe5df360","typeNode":"end","z":4,"attrs":{"border":{"stroke":"black","rx":5,"ry":5},"background":{"fill":"yellow"},"image":{"refWidth":0.7,"refHeight":0.7,"xlink:href":"/assets/behavior-model-end.png","refX":0.15,"refY":0.15},"label":{"text":"(new end 1)"},"root":{"magnet":false}}},{"type":"link","source":{"id":"67eeb639-06c3-46f1-bbe9-6c62b43d4231","magnet":"portBody","port":"b60fbd10-89ff-4d34-9933-52e071a37b6e"},"target":{"id":"6912dbff-46e8-40a8-89cf-0ffdf0e0da03","magnet":"portBody","port":"290b6135-ac29-4c5f-ad76-fa15e390a5a4"},"router":{"name":"manhattan"},"connection":{"name":"rounded"},"connector":{"name":"jumpover"},"labels":[{"position":0.5,"attrs":{"text":{"text":"100%","fill":"black"}}}],"id":"f750662a-c60c-47a0-a6c5-daaef8be6b9b","z":5,"attrs":{".connection":{"stroke-width":2},".marker-target":{"d":"M 10 0 L 0 5 L 10 10 z","fill":"blue","stroke":"blue"},"text":{"fill":"black"}}},{"type":"standard.BorderedImage","position":{"x":750,"y":60},"size":{"width":150,"height":65},"angle":0,"ports":{"groups":{"leftPorts":{"position":"left","label":{"position":"outside"},"attrs":{"portBody":{"r":8,"fill":"green","stroke":"black","magnet":true}},"markup":[{"tagName":"circle","selector":"portBody"}]},"rightPorts":{"position":"right","label":{"position":"outside"},"attrs":{"portBody":{"r":8,"fill":"green","stroke":"black","magnet":true}},"markup":[{"tagName":"circle","selector":"portBody"}]}},"items":[{"group":"leftPorts","attrs":{"label":{"text":"leftPort1"}},"id":"daeaba93-c7bd-495f-a807-c9f9e8be0a8d"},{"group":"leftPorts","attrs":{"label":{"text":"leftPort2"}},"id":"cd68ee74-0a39-4c16-8cf2-1bdb351049cc"},{"group":"rightPorts","attrs":{"label":{"text":"rightPort1"}},"id":"fc3abc2d-beb6-427a-a1b1-e35c280804a0"},{"group":"rightPorts","attrs":{"label":{"text":"rightPort2"}},"id":"35446eb0-988a-4f98-b7b6-fe13da8c3e8e"}]},"id":"5f125493-d2d9-499f-8772-fdd8d3066b21","typeNode":"page","minTransitionTime":-1,"maxTransitionTime":-1,"relevantPage":false,"z":6,"attrs":{"border":{"stroke":"black","rx":5,"ry":5},"background":{"fill":"lightgrey"},"image":{"refWidth":0.7,"refHeight":0.7,"xlink:href":"/assets/behavior-model-page.png","refX":0.15,"refY":0.15},"label":{"text":"(new page 1)"},"root":{"magnet":false}}},{"type":"link","source":{"id":"6912dbff-46e8-40a8-89cf-0ffdf0e0da03","magnet":"portBody","port":"03672395-3faf-4147-ac75-53662fc52354"},"target":{"id":"5f125493-d2d9-499f-8772-fdd8d3066b21","magnet":"portBody","port":"daeaba93-c7bd-495f-a807-c9f9e8be0a8d"},"router":{"name":"manhattan"},"connection":{"name":"rounded"},"connector":{"name":"jumpover"},"labels":[{"position":0.5,"attrs":{"text":{"text":"100%","fill":"black"}}}],"id":"67a24279-f3cd-47de-8f3c-63a131099648","z":7,"attrs":{".connection":{"stroke-width":2},".marker-target":{"d":"M 10 0 L 0 5 L 10 10 z","fill":"blue","stroke":"blue"},"text":{"fill":"black"}}},{"type":"link","source":{"id":"5f125493-d2d9-499f-8772-fdd8d3066b21","magnet":"portBody","port":"cd68ee74-0a39-4c16-8cf2-1bdb351049cc"},"target":{"id":"ad2a70a8-5a65-461b-85e8-3b67f90ca59c","magnet":"portBody","port":"cd481c38-4b45-4936-8731-b90cb7109382"},"router":{"name":"manhattan"},"connection":{"name":"rounded"},"connector":{"name":"jumpover"},"labels":[{"position":{"distance":0.32278481012658233,"angle":0},"attrs":{"text":{"text":"100%","fill":"black"}}}],"id":"cb62ac15-c5cf-49c2-8e7a-62db1e37d655","z":8,"attrs":{".connection":{"stroke-width":2},".marker-target":{"d":"M 10 0 L 0 5 L 10 10 z","fill":"blue","stroke":"blue"},"text":{"fill":"black"}}},{"type":"link","source":{"id":"ad2a70a8-5a65-461b-85e8-3b67f90ca59c","magnet":"portBody","port":"792e9035-1f63-4469-8308-94491cc3f1f3"},"target":{"id":"4c6c44dc-4a15-4c40-b2bc-0ca2fe5df360","magnet":"portBody","port":"ca1dbaa0-a2fe-4c75-bb62-4445c0e792e2"},"router":{"name":"manhattan"},"connection":{"name":"rounded"},"connector":{"name":"jumpover"},"labels":[{"position":0.5,"attrs":{"text":{"text":"100%","fill":"black"}}}],"id":"e6dae9fa-9958-4ddf-bbe9-5946f5560c95","z":9,"attrs":{".connection":{"stroke-width":2},".marker-target":{"d":"M 10 0 L 0 5 L 10 10 z","fill":"blue","stroke":"blue"},"text":{"fill":"black"}}}]}',
  simulatorModel: '{"Q1":{"T":0,"P1":1},"Q1P1":{"B":1,"T":0},"Q1P1B":{"T":1}}',
  modelWidth: 1000,
  modelHeight: 400,
  valid: true,
  creationDate: '2022-07-21T00:54:04.000Z',
  lastModificationDate: '1970-01-01T00:00:00.000Z',
  _id: '62d8a3ada9994365ac3563fc',
  __v: 0
}
    ✔ should add a behavior model
{
  name: 'TESTSIMULATION',
  description: 'TESTDESCRIPTION',
  numberStudents: 1,
  numberDocuments: 10,
  numberRelevantDocuments: 5,
  randomActions: false,
  expiration: true,
  queryList: [ 'TESTQUERY1', 'TESTQUERY2' ],
  behaviorModelId: '62d8a3ada9994365ac3563fc',
  length: 1,
  sensibility: 90,
  interval: 100,
  speed: 1,
  creationDate: '2022-07-21T00:54:04.000Z',
  lastDeployDate: '1970-01-01T00:00:00.000Z',
  lastModificationDate: '2022-07-21T00:54:04.000Z',
  _id: '62d8a3ada9994365ac3563fe',
  __v: 0
}
    ✔ should add a simulation
"ok"
    ✔ should deploy a simulation (94ms)
    ✔ should stop a simulation (10003ms)
[
  {
    _id: '62d8a3b4aacc63000189f293',
    username: 'participant1',
    url: '/page/D5',
    localTimestamp: 1658364852000,
    action: 'Bookmark',
    docId: '',
    relevant: true,
    userMade: true
  }
]
    ✔ should get bookmarks

[
  {
    _id: '62d8a3aeaacc63000189f283',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364846000,
    keyCode: 84
  },
  {
    _id: '62d8a3aeaacc63000189f284',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364846000,
    keyCode: 69
  },
  {
    _id: '62d8a3aeaacc63000189f285',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364846000,
    keyCode: 83
  },
  {
    _id: '62d8a3aeaacc63000189f286',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364846000,
    keyCode: 84
  },
  {
    _id: '62d8a3aeaacc63000189f287',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364846000,
    keyCode: 81
  },
  {
    _id: '62d8a3afaacc63000189f288',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 85
  },
  {
    _id: '62d8a3afaacc63000189f289',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 69
  },
  {
    _id: '62d8a3afaacc63000189f28a',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 82
  },
  {
    _id: '62d8a3afaacc63000189f28b',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 89
  },
  {
    _id: '62d8a3afaacc63000189f28c',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 8
  },
  {
    _id: '62d8a3afaacc63000189f28d',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 89
  },
  {
    _id: '62d8a3afaacc63000189f28e',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 49
  },
  {
    _id: '62d8a3afaacc63000189f28f',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 13
  }
]
    ✔ should get keystrokes
[
  {
    _id: '62d8a3afaacc63000189f290',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    query: 'TESTQUERY1'
  }
]
    ✔ should get queries
[
  {
    _id: '62d8a3adaacc63000189f281',
    username: 'participant1',
    url: '/tutorial?stage=search',
    state: 'PageExit',
    localTimestamp: 1658364845000,
    relevant: false
  },
  {
    _id: '62d8a3adaacc63000189f282',
    username: 'participant1',
    url: '/search',
    state: 'PageEnter',
    localTimestamp: 1658364845000,
    relevant: false
  },
  {
    _id: '62d8a3b4aacc63000189f292',
    username: 'participant1',
    url: '/search?query=TESTQUERY1',
    state: 'PageExit',
    localTimestamp: 1658364852000,
    relevant: false
  },
  {
    _id: '62d8a3b4aacc63000189f291',
    username: 'participant1',
    url: '/page/D5',
    state: 'PageEnter',
    localTimestamp: 1658364852000,
    relevant: true
  }
]
    ✔ should get visited links
{ msg: 'Behavior model deleted' }
    ✔ should delete a behavior model
{ msg: 'Simulation deleted' }
    ✔ should delete a simulation

  Unsuccessfully deploy a simulation (simulation does not exist): 
{ msg: "Error: simulation doesn't exist" }
    ✔ should fail to deploy a simulation (simulation does not exist)

  Successfully read the latest bookmarks generated through a simulation: 
[
  {
    _id: '62d8a3b4aacc63000189f293',
    username: 'participant1',
    url: '/page/D5',
    localTimestamp: 1658364852000,
    action: 'Bookmark',
    docId: '',
    relevant: true,
    userMade: true
  }
]
    ✔ should read the latest bookmarks generated through a simulation

  Successfully read the latest keystrokes generated through a simulation: 
[
  {
    _id: '62d8a3aeaacc63000189f283',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364846000,
    keyCode: 84
  },
  {
    _id: '62d8a3aeaacc63000189f284',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364846000,
    keyCode: 69
  },
  {
    _id: '62d8a3aeaacc63000189f285',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364846000,
    keyCode: 83
  },
  {
    _id: '62d8a3aeaacc63000189f286',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364846000,
    keyCode: 84
  },
  {
    _id: '62d8a3aeaacc63000189f287',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364846000,
    keyCode: 81
  },
  {
    _id: '62d8a3afaacc63000189f288',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 85
  },
  {
    _id: '62d8a3afaacc63000189f289',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 69
  },
  {
    _id: '62d8a3afaacc63000189f28a',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 82
  },
  {
    _id: '62d8a3afaacc63000189f28b',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 89
  },
  {
    _id: '62d8a3afaacc63000189f28c',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 8
  },
  {
    _id: '62d8a3afaacc63000189f28d',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 89
  },
  {
    _id: '62d8a3afaacc63000189f28e',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 49
  },
  {
    _id: '62d8a3afaacc63000189f28f',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    keyCode: 13
  }
]
    ✔ should read the latest keystrokes generated through a simulation

  Successfully read the latest queries generated through a simulation: 
[
  {
    _id: '62d8a3afaacc63000189f290',
    username: 'participant1',
    url: '/search',
    localTimestamp: 1658364847000,
    query: 'TESTQUERY1'
  }
]
    ✔ should read the latest queries generated through a simulation

  Successfully read the latest visitedLinks generated through a simulation: 
[
  {
    _id: '62d8a3adaacc63000189f281',
    username: 'participant1',
    url: '/tutorial?stage=search',
    state: 'PageExit',
    localTimestamp: 1658364845000,
    relevant: false
  },
  {
    _id: '62d8a3adaacc63000189f282',
    username: 'participant1',
    url: '/search',
    state: 'PageEnter',
    localTimestamp: 1658364845000,
    relevant: false
  },
  {
    _id: '62d8a3b4aacc63000189f292',
    username: 'participant1',
    url: '/search?query=TESTQUERY1',
    state: 'PageExit',
    localTimestamp: 1658364852000,
    relevant: false
  },
  {
    _id: '62d8a3b4aacc63000189f291',
    username: 'participant1',
    url: '/page/D5',
    state: 'PageEnter',
    localTimestamp: 1658364852000,
    relevant: true
  }
]
    ✔ should read the latest visitedLinks generated through a simulation


  54 passing (11s)

